import React, { useState, useEffect, useRef } from "react";
import "./AppBackground.scss";
import { useScreenMode } from "core/hooks/useScreenMode";

export function AppBackground({ variant = "blurred" }) {
  let [status, setStatus] = useState("loading");
  let { orientation } = useScreenMode();
  let src = `/images/mountain-road.${orientation}.jpg`;
  return (
    <div className={["app-background", variant, status].join(" ")}>
      <img src={BASE_64[orientation]} className="placeholder blurred" />
      {variant === "sharp" && (
        <img onLoad={() => setStatus("success")} src={src} className={variant} />
      )}
      <div className="overlay" />
    </div>
  );
}

const BASE_64 = {
  landscape:
    "data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAwMDAwNDA4PDw4TFRIVExwaGBgaHCseIR4hHitBKC8oKC8oQTlFODQ4RTlnUUdHUWd3ZF5kd5CAgJC1rLXs7P8BDAwMDA0MDg8PDhMVEhUTHBoYGBocKx4hHiEeK0EoLygoLyhBOUU4NDhFOWdRR0dRZ3dkXmR3kICAkLWstezs///AABEIAHoAowMBIgACEQEDEQH/xACBAAACAwEBAQAAAAAAAAAAAAABAwACBAYFBxAAAgICAAQEBQUBAQAAAAAAAAECEgMRBBMhMQVBUWEyQlKBoRQiQ1ORcbEBAQEBAQEBAAAAAAAAAAAAAAABAwIEBREAAgMAAQMEAgMBAAAAAAAAAAECERIhAzFRBBNSgRRhIkJikf/aAAwDAQACEQMRAD8A8+pKjahqfRPniahqNqGoAmpKjqkqAJqSo+pKkAmpKjqkqAJqSo+pKgCKhqOqGoAipKj6hqBRnqGo+oaksUZ6kqaKBoLLRloQ1UILJRWoajahqU7oVUlR1Q1AoRUNR1Q1BKEVDUdUNSChFSVNFSVAoRUlTRUNSWKM9Q1NFSUFloz1DU0UDUlijPQNDRQNCWWjNQNDRQNBZaM1CGmhBYoRUNTQoBoXRpgz1DU0ULUGhgzVDQ1ULUJoYMlA0NfLDyyaGDHQlDZyycsaJgyVDU18sPLGhgyVDU18sPLJoZMlSVNfLDyyaLkyVDU18sPLFjJkqSpr5YeWSxkyVIa6EFjJmUQ1LpFtHGj14KVLKJdIKQ0MFVEE5QxxcptJGTP4lw2CTjtya9Dxs3Fy4rLZbUFtJeh3GEn34RjPqQjwmmz1Xx8XNRgkk/Nm3G5J1m9+aZyDz/ufQ9Hh/EtRpm+0juXTdcGMOqm/5M6aoamOHESliU8bizRg4rFmdU9TXeJg7R6UosZUNBug6Jo79sVQNRtQ1Joe2JqGo6oajRMCahqOqGo0MCKhqPqGo0TBnoQ0VINDJ8/x8ZlwKTx5W4vqt9dM0YPFc8drJG/4aPHTik1p+zBKcn26HtcIvujwrrTjVSZ0T8axxenifvpnn5vFuMnKVJKEH0S0eVoDIulBPsWXqOrJU5f84LWb8wuc33bK6IaGJYASdQBmLJLG3rs+6NcOMcJqSk36p9DCEjSZVJrsz2uH8TlCW2+r6WRTN4lxOPNJwyy359do8ohziN9jr3Z1WmdZw/jUXCN0trpLb0Ny+Kzso48cUmuknLZyCei8ZNRaSWjj2IXdGq9V1KqzpuH8Q4iMuu8kEtS9Uz1uH8Q4bPZWrJb2pexxbnKHLnGfUus2RuTa2pe3Zkl0EzqPqZR4fJ36aaTXVMscJj47PiljcMk4wXTW9pfY2LxbjcbTWVST8pR6fjRk/Tz8o1Xq+m1ymdiE4fP4nxksn7s0o9dpQ/ajJPxHiIQlHHmyJv0k+hfx5V3RH6qF9mdvk8R4DFOUJ8RjUl3WyHzJ7bbbbbId/jx+TMvypfFECVt7Bt7G9nmplqgA578iW9haJTIHQLewb+wtCmHQdFb+wb+wtCmHRC8YzktxxyaLLFmf8bGo+RiXhiwlljyvtjZVqcU24NIuo+RifgIRd/Zk5i+kWiVIbsZCbg9oz8zzqw8xpbo9DSGZD99/cltbW9JiOZJ9oA1PW6Pv3GkVQkMllk+glso5P0J19ES0KZCEt7EFij1Vg4f6Pyycjhv6/wAspWPe7DuG/M8/PlntqPxRb9Pw/wDX+WT9Pw30flgeikrvWojnyw8/FF/0/DfR+WCWHhl8n5YIxnL2+w1Yp+jf2Fv5Ck/6IVGODyw7LrDjf8SGpVXV+fbQXlUV5C2+xailzQtz5cKxZns2029kk3Jtg110dpUYyk2/0bIzlr2KtpfL3KYp9HFjqxa8zNqmbxeooU4wkusV2KLBh+hf6y9FJdmijxPyYv8AZGl8UHl4v61/pJRxv5Ig5T9ScpebY+xX+UFRwL5IlrYfpjpvqiixxfzMPJj6j7Y+kFS4dPdIhnkxTWq6RTl99Leg8v2ZR9Bvi+kgKL0f+kAC5ryj+AO6+UeVXWb2QMkMOWfmkjRHFCKe9f6VfwIzS7k5Z1xE2PJFLokjLLJt/Fv3M665op9V6Al8TO4wRlLqsZLJ6Cn16shDRJGLbfcK9SqG5EqYv+P/ANFAB209ofGXRtfeIgMG1OOvUjVlTaZqjOEhlktbRlyJLNkSWv3McvIyaPRCbaL7gR4vcC+Id5HJ2uTPKEkujRWs/mG5EtBfkUlciq67MDjJ/MxrKr4gKJVfTv7ELEAo/9k=",
  portrait:
    "data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/sBCgoKCgoKCwwMCw8QDhAPFhQTExQWIhgaGBoYIjMgJSAgJSAzLTcsKSw3LVFAODhAUV5PSk9ecWVlcY+Ij7u7+//AABEIAHsAZAMBIgACEQEDEQH/xACCAAADAQEBAQEAAAAAAAAAAAAAAQQDAgUGBxAAAgEDAgQFBAEFAAAAAAAAAAECAxESBCETMUFhBRQiUZEyUnGBoQYjQkPRAQEBAQEBAQAAAAAAAAAAAAAAAQMCBAURAAICAQMDBAMBAAAAAAAAAAABAhESAyFREzFBBBRSYTJxoZH/2gAMAwEAAhEDEQA/APNxDE3xDE+ofMMMQxN8R4gE+I8TfEMQDDEMSjEMQCfEMSnAMCAnxDAowHgBRNgBTgAsUd4jxN8R4g7onxHib4jxAonxHiUYBgQlE+IYlOA8BYomxHgU4DwJZaJsAwKsB4EsUS4AV4ALLRziPArVM6VMmRtgSYDwLFTOuGTMdMiwDAu4Y+ETMdMhwDAu4QcIZEwIsDrAs4Q+EMhgR4DwLOEPhkyLgR4AW8ICZDASgdKBokZV9RR00cqs0jLJt0j2uCSt7I0wIa+uoUbxj65rojzdb4xTq03S0+V39T7eyPHq1sFFSXNG0NNveX+Hk1NaK2g0/s+spV6lSMaqx4b6Jbl6imfF6XxKWnk7xvSf1I+j0mshWy4U1JHM4Sj+jvSnCfnc9LAeBNT1sFLCtaD6Poz0EjFto3UFLsY4DwNsR4kzL0jHAeBviPEZjpGGAFGIDMdM+H1Pj7cYeWhZ85OZ4Wp1tfV1XOrLdpKy2RLvYVj3w04w7I+Zqa+pq/lLbg0VScVaOwsnJ3k22cnSOzELs6hOdOSlCTUl1TsLdB+gD0HrJTj66jv7SV1+mXR8Wqf21K9kt435NdUzwr+50kjlwi/BotWa7SPp9T4xVnRjOnVaS9tm37M10H9QTc8dTuntFnyt+jBHHR03GqO/c6ympZH6G/F6KpZqlNvqk1s+5BPxfVSalBKF4q0NpXZ8hGbTi1a6/kppSc3JJ443aOF6eCNH6zUl9fo+2h4zQxXEg4T6pgfHQ8QrxjGLtKy5sCe2XH9O/evn+HjtIQsl7DyXsz02jwUwsOwZR7jzj3FoUwsFgzj3GpJ7JMWhT4Cwx7/ZIbjOPOnNflDJcjGXByMHdc4T+DniR9mW1yTGXBojpSaMuJDuHFh3FolSN7oDDjQ9mAtFqR6HkdP71PlB5HTfdP5QSk0n/wBOFOb6b92eS5cn0K0/ijryOm++fyjjy+kXWo/2jZRm+bRpGm7r0x/Yt8jCPiCMPL6aVsacl+zWlThQllHbbmzdOMd3ZmFernskFlLbeivCCvazipXqSk7Oy7HdKW17XkS22ZrTlhNbbHbisaRjGbztsrk3JptNNGDjSm36E2ze0W3ZmcoxyxyZkj0unwYS0lKTvaS/DGtNRjuozv8Akbpy3tMShU918lt8nGMfgNUNOv8AXL5AXDm+oC3yWo/BFlPSzv600b4UouzW5NUnL7nzJKtScY3UmRJy8nTnGC7F1Sritmkv5MJVn/kzB+mEGubV2zI0WmjCWtJ9jSU3LscK/JAzWlFNVW1yhdfJoZbtmUuiXQDkYIb05t2V7SXLv2NlUi2075d3uQlFRXo05v6snG/ZHEopmkJtFitbfcXodrE9OTae5rZWMqPSpWux1iukwOlay2QEOj//2Q==",
};
